<!DOCTYPE html>
<html>
<head>
<style>

.container {
    text-align: center;
    position: absolute;
	margin: auto;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 90%;
	height: 50%;
	border-radius: 3px;
	font-size: 16px;
    font-family: Arial, Helvetica, sans-serif;
    /*background-color: #eeeeee;*/
    padding: 16px;

}

.drop_container {
    text-align: center;
	margin: auto;
	border-radius: 6px;
	width: 80%;
    padding: 0 10%;
    border: 3px dashed #555555;
}


/*div.drop_container:hover {
	background-color: #eeeeee;
}*/

label.buttonLoad input[type="file"] {
    position: fixed;
    top: -1000px;
}

.button {
    background-color: #4CAF50; /* Green */
    border-radius: 0px;
    border: none;
    color: white;
    padding: 16px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    font-family: Arial, Helvetica, sans-serif; 
    margin: 4px 2px;
    -webkit-transition-duration: 0.4s; /* Safari */
    transition-duration: 0.4s;
    cursor: pointer;
}



.buttonLoad {
    background-color: white; 
    color: black; 
    border: 2px solid #000000;
}

.buttonLoad:hover {
    background-color: #555555;
    color: white;
}

.buttonLoad:active {
	color: white;
	background-color: black;
	transition: 0.01s;
}

#drop_zone {
	text-align: center;
	position: absolute;
	margin: auto;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	/*font-size: 16px;
    font-family: Arial, Helvetica, sans-serif; 
    border: 4px dashed #ffffff;user-select: none;    display: none;
*/
    width: 100%;
    height: 100%;
    background: #555555;
    opacity: 1.0;
	visibility: hidden;

}

#drop_zonetext {
	text-align: center;
	margin: auto;
	width: 80%;
    padding: 5% 0;
}

/***** Example custom styling *****/
/*label.myLabel input[type="file"] {
    position: fixed;
    top: -1000px;
}


.myLabel {
    border: 2px solid #AAA;
    border-radius: 4px;
    padding: 2px 5px;
    margin: 2px;
    background: #DDD;
    display: inline-block;
}
.myLabel:hover {
    background: #CCC;
}
.myLabel:active {
    background: #CCF;
}
.myLabel :invalid + span {
    color: #A44;
}
.myLabel :valid + span {
    color: #4A4;
}*/

</style>
</head>
<body>

<h2>...</h2>

<!--<button>Default Button</button>
<a href="#" class="button">Link Button</a>
<button class="buttonLoad">Button</button>
<input type="button" class="button buttonLoad" value="Input Image" />-->



<div class="container">
	<!--<div id="drop_zone">-->
		<div id = "drop_zonetext"  ><h1>Drop files to upload</h1></div>
	<!--</div>-->
	<p>OR</p>
	<label class="button buttonLoad">
	    <input type="file" id="file" required/>
	    <span>Input Image</span>
	</label>
</div>
<div id = "drop_zone"  ></div>


<!--<label class="myLabel">
    <input type="file" required/>
    <span>My Label</span>
</label>

<input type="file" class="button buttonLoad" id="file" name="files[]" />-->

<output id="list"></output>

<script>
	var x = document.getElementById('drop_zone');
	var dropZone = document;//document.getElementById('drop_zonetext');

	function checkCompatible(){
		// Check for the various File API support.
		if (window.File && window.FileReader && window.FileList && window.Blob) {
		  // Great success! All the File APIs are supported.
		  return true;
		} 
		else {
		  alert('The File APIs are not fully supported in this browser.');
		  return false;
		}

		return false;
	}

	function handleFileSelect(evt) {
		var files = evt.target.files; // FileList object
		console.log(files[0].name);

		// files is a FileList of File objects. List some properties.
		var output = [];
		for (var i = 0, f; f = files[i]; i++) {
		  output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
		              f.size, ' bytes, last modified: ',
		              f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
		              '</li>');
		}
		document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
	}

	document.getElementById('file').addEventListener('change', handleFileSelect, false);


	function handleFileSelect(evt) {
	    evt.stopPropagation();
	    evt.preventDefault();

	    var files = evt.dataTransfer.files; // FileList object.
	    console.log(files[0].name);

	    // files is a FileList of File objects. List some properties.
	    var output = [];
	    for (var i = 0, f; f = files[i]; i++) {
	      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
	                  f.size, ' bytes, last modified: ',
	                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
	                  '</li>');
	    }
	    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
	    //dropZone.body.style.backgroundColor = "white";
	    //x.style.display = 'none';
	    //x.style.opacity = 0.0;
	}

	function handleDragOver(evt) {
		evt.stopPropagation();
		evt.preventDefault();
		evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.

	}

	

	// Setup the dnd listeners.
	
/*	document.addEventListener('dragover', handleDragOver, false);
	document.addEventListener('drop', handleFileSelect, false);
*/

	function showDropZone() {
    	x.style.visibility = "visible";
	}
	function hideDropZone() {
	    x.style.visibility = "hidden";
	}
	window.addEventListener('dragenter', function ( event ) {
		//console.log(dropZone.style.backgroundColor);
		//
		//dropZone.style.backgroundColor  = "#555555";

		//document.body.style.opacity = 0.1;
		console.log("In");
	    
	    //x.style.display = 'block';
	    //x.style.backgroundColor  = "#555555";
	    //x.style.opacity = 0.5;
	    //x.style.display = 'block';
	    showDropZone();

	    //dropZone.body.style.backgroundColor  = "#555555";
	    


	}, false );

	window.addEventListener( 'dragleave', function ( event ) {
		//if ( event.target.className == "droptarget" ) {
	    //    event.target.style.border = "";
	    //    document.getElementById("demo").innerHTML = "Left the dropzone";
	    //}
		console.log("leave");
		//dropZone.body.style.backgroundColor = "white";
		//x.style.display = 'none';
		//x.style.opacity = 0.0;
		//x.style.display = 'none';

	}, false );

/**/
	x.addEventListener('dragenter', function ( event ) {
		//console.log(dropZone.style.backgroundColor);
		//
		//dropZone.style.backgroundColor  = "#555555";

		//document.body.style.opacity = 0.1;
		console.log("In2");
	    
	    //x.style.display = 'block';
	    //x.style.backgroundColor  = "#555555";
	    //x.style.opacity = 0.5;
	    //x.style.display = 'block';

	    //dropZone.body.style.backgroundColor  = "#555555";
	    


	}, false );

	x.addEventListener( 'dragleave', function ( event ) {
		//if ( event.target.className == "droptarget" ) {
	    //    event.target.style.border = "";
	    //    document.getElementById("demo").innerHTML = "Left the dropzone";
	    //}
		console.log("leave2");
		//dropZone.body.style.backgroundColor = "white";
		//x.style.display = 'none';
		//x.style.opacity = 1.0;
		hideDropZone();

	}, false );
	
	x.addEventListener('dragenter', allowDrag);
	x.addEventListener('dragover', allowDrag);

	x.addEventListener('dragstart', function(e){
	    e.dataTransfer.setData('application/node type', this);
	    console.log("dragstart:", e)
	});
	/*
	[ 'drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop' ].forEach( function( event )
	{
		x.addEventListener( event, function( e )
		{
			// preventing the unwanted behaviours
			e.preventDefault();
			e.stopPropagation();
		});
	});

	[ 'dragover', 'dragenter' ].forEach( function( event )
	{
		x.addEventListener( event, function()
		{
			//form.classList.add( 'is-dragover' );
			x.style.opacity = 0.5;
			x.style.display = 'block';
		});
	});
	[ 'dragleave', 'dragend', 'drop' ].forEach( function( event )
	{
		x.addEventListener( event, function()
		{
			//form.classList.remove( 'is-dragover' );
			x.style.opacity = 1.0;
			x.style.display = 'none';
		});
	});*/


</script>

</body>
</html>
